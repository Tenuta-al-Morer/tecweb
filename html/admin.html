<!DOCTYPE html>
<html lang="it">

    <head>
        <meta charset="utf-8">
        <title>Tenuta al Morer</title>
        <link rel="icon" href="../../images/logo.ico" type="image/x-icon"> 
        <meta name="description" content="Cantina veneta che produce vini autentici, legati alla terra e alla tradizione locale."> 
        <meta name="keywords" content="Tenuta al Morer, cantina veneta, vino veneto, vini artigianali, vini delle colline venete, tradizione veneta, vino italiano, tenuta vitivinicola, vini naturali, degustazione vini, vino del Veneto"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="../../style/stile.css" media="screen"> 
        <link rel="stylesheet" href="../../style/mini.css" media="screen and (max-width:1024px)">
        <link rel="stylesheet" href="../../style/stampa.css" media="print">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="../javascript/script.js"></script>
    </head>

    <body> 
        <header>
            <nav id="help">
                <h2 class="visually-hidden">Aiuti alla navigazione</h2>
                <a class="navigationHelp" href="#content">Vai al contenuto</a>
            </nav>

            <div class="main-nav-bar">    
                <button class="menu-toggle" aria-controls="main-navigation" aria-expanded="false">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                    <span class="visually-hidden">Apri il menu di navigazione</span>
                </button>


                <div class="logo-link"><img src="../../images/logo.webp" alt="Immagine logo Cantina al Morer" ></div> 

                <nav id="main-navigation" class="primary-navigation">
                    <ul>
                        <li><a href="home.php"><span lang="en">Home</span></a></li> 
                        <li><a href="tenuta.php">Tenuta</a></li>
                        <li><a href="vini.php">Vini</a></li>
                        <li><a href="esperienze.php">Esperienze</a></li>
                        <li><a href="contatti.php">Contatti</a></li>
                    </ul>
                </nav>

                <div class="mobile-icons">
                    [cart_icon_link]

                    [user_area_link]
                </div>

            </div>

            <div class="sub-header">
                <nav id="breadcrumb">
                    <div class="breadcrumb-container">
                        <span>Ti trovi in: </span>
                        <a href="home.php"><span lang="en">Home</span></a><span aria-hidden="true"> &gt; </span> 
                        <span class="current-page">Admin</span>
                    </div>
                </nav>

                <button id="theme-toggle" aria-label="Cambia tema"> 
                    <i class="fas fa-moon" aria-hidden="true"></i>
                </button>
            </div>
        </header>

        <main id="content-admin" class="admin-wrapper"> 
        <div class="admin-page-title">
            <h1>Gestione amministrazione</h1>
            <p>Operatore: <strong>[nome_utente]</strong></p>
        </div>

        <div class="admin-switch admin-switch-full">
            <a href="admin.php?view=vini" class="[tab_vini_class]">Gestione Vini</a>
            <a href="admin.php?view=utenti" class="[tab_utenti_class]">Gestione Utenti</a>
        </div>

        <div class="admin-section-head">
            <h2>[titolo_admin]</h2>
            <div class="admin-section-actions">
                [user_search_form]
                [btn_nuovo_vino]
            </div>
        </div>

        [sezione_vini]
        [sezione_utenti]
    </main>

    <div id="modalVino" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-box">
            <button class="close-modal" onclick="chiudiModal()" aria-label="Chiudi">&times;</button>
            <h2 id="modalTitle" style="margin-bottom: 20px;">Gestione Vino</h2>
            
            <form action="admin.php" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="azione" value="salva_vino">
                <input type="hidden" name="id_vino" id="id_vino" value="">
                <input type="hidden" name="view" value="vini">

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="nome">Nome Vino *</label>
                        <input type="text" name="nome" id="nome" class="admin-input" required aria-describedby="nome-hint">
                        <small id="nome-hint" class="input-help">Es: Pinot Nero Riserva</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="categoria">Categoria *</label>
                        <select name="categoria" id="categoria" class="admin-input" aria-describedby="categoria-hint">
                            <option value="rossi">Rossi</option>
                            <option value="bianchi">Bianchi</option>
                            <option value="selezione">Selezione</option>
                        </select>
                        <small id="categoria-hint" class="input-help">Es: Rossi</small>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="prezzo">Prezzo (€) *</label>
                        <input type="number" step="0.01" name="prezzo" id="prezzo" class="admin-input" required aria-describedby="prezzo-hint">
                        <small id="prezzo-hint" class="input-help">Es: 12.50</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="quantita_stock">Quantità Stock *</label>
                        <input type="number" name="quantita_stock" id="quantita_stock" class="admin-input" required aria-describedby="quantita_stock-hint">
                        <small id="quantita_stock-hint" class="input-help">Es: 120</small>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="stato">Visibilità *</label>
                        <select name="stato" id="stato" class="admin-input" aria-describedby="stato-hint">
                            <option value="attivo">Attivo</option>
                            <option value="nascosto">Nascosto</option>
                        </select>
                        <small id="stato-hint" class="input-help">Es: Attivo</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="img">Carica Immagine</label>
                        <input type="file" name="img" id="img" class="admin-input" accept="image/*" aria-describedby="img-hint">
                        <small id="img-hint" class="input-help">Es: JPG o PNG</small>
                    </div>
                </div>

                <div class="admin-form-group">
                    <label for="descrizione_breve">Descrizione Breve</label>
                    <input type="text" name="descrizione_breve" id="descrizione_breve" class="admin-input" aria-describedby="descrizione_breve-hint">
                    <small id="descrizione_breve-hint" class="input-help">Es: Rosso elegante con note di frutti rossi</small>
                </div>

                <div class="admin-form-group">
                    <label for="descrizione_estesa">Descrizione Estesa</label>
                    <textarea name="descrizione_estesa" id="descrizione_estesa" rows="3" class="admin-input" aria-describedby="descrizione_estesa-hint"></textarea>
                    <small id="descrizione_estesa-hint" class="input-help">Es: Affinato in barrique per 12 mesi, struttura intensa e finale speziato.</small>
                </div>

                <fieldset style="margin-top: 15px; border: 1px solid var(--bordercolor); padding: 15px; border-radius:4px;">
                    <legend style="padding: 0 10px; font-weight:bold; color:var(--gold-color);">Scheda Tecnica</legend>
                    <div class="form-grid">
                        <div class="admin-form-group"><label for="vitigno">Vitigno</label><input type="text" name="vitigno" id="vitigno" class="admin-input" aria-describedby="vitigno-hint"><small id="vitigno-hint" class="input-help">Es: Cabernet Sauvignon</small></div>
                        <div class="admin-form-group"><label for="annata">Annata</label><input type="text" name="annata" id="annata" class="admin-input" aria-describedby="annata-hint"><small id="annata-hint" class="input-help">Es: 2021</small></div>
                        <div class="admin-form-group"><label for="gradazione">Gradazione</label><input type="text" name="gradazione" id="gradazione" class="admin-input" aria-describedby="gradazione-hint"><small id="gradazione-hint" class="input-help">Es: 13.5% vol</small></div>
                        <div class="admin-form-group"><label for="temperatura">Temperatura</label><input type="text" name="temperatura" id="temperatura" class="admin-input" aria-describedby="temperatura-hint"><small id="temperatura-hint" class="input-help">Es: 16-18°C</small></div>
                    </div>
                    <div class="admin-form-group"><label for="abbinamenti">Abbinamenti</label><input type="text" name="abbinamenti" id="abbinamenti" class="admin-input" aria-describedby="abbinamenti-hint"><small id="abbinamenti-hint" class="input-help">Es: Carni rosse, formaggi stagionati</small></div>
                </fieldset>

                <div class="admin-form-actions">
                    <button type="button" class="btn-secondary" onclick="chiudiModal()">Annulla</button>
                    <button type="submit" class="btn-primary">Salva Vino</button>
                </div>
            </form>
        </div>
    </div>
    
    <footer>
        <div class="footer-content">
            <small>
                &copy; 2025 Tenuta al Morer - <abbr title="Partita">P.</abbr> <abbr title="Imposta sul Valore Aggiunto">IVA</abbr> 00000000000 <br>
                <a href="policy.php">Note legali</a>  
                <a href="policy.php#privacy-policy"><span lang="en">Privacy Policy</span></a> 
                <a href="policy.php#accessibility">Accessibilità</a>
            </small>
        </div>
    </footer>

    <button id="backToTopBtn" aria-label="Torna all'inizio della pagina">
        <svg viewBox="0 0 24 24" class="arrow-icon" aria-hidden="true">
            <path d="M12 5 L12 19 M5 12 L12 5 L19 12" stroke="white" stroke-width="2.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    
</body>
</html>
