<!DOCTYPE html>
<html lang="it" class="no-js">
    <head>
        <meta charset="utf-8">
        <title>Tenuta al Morer</title>
        <link rel="icon" href="../../images/logo.ico" type="image/x-icon"> 
        <meta name="description" content="Cantina veneta che produce vini autentici, legati alla terra e alla tradizione locale."> 
        <meta name="keywords" content="Tenuta al Morer, cantina veneta, vino veneto, vini artigianali, vini delle colline venete, tradizione veneta, vino italiano, tenuta vitivinicola, vini naturali, degustazione vini, vino del Veneto"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="../../css/style.css" media="screen"> 
        <link rel="stylesheet" href="../../css/mini.css" media="screen and (max-width:1024px)">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="../javascript/script.js"></script>
    </head>

    <body> 
        <header>
            <nav id="help">
                <a class="navigationHelp" href="#content-admin">Vai al contenuto</a>
            </nav>

            <div class="main-nav-bar">    
                [menu_toggle]


                <div class="logo-link"><img src="../../images/logo.webp" alt="Tenuta al Morer - Home" ></div> 

                <nav id="main-navigation" class="primary-navigation">
                    <ul>
                        <li><a href="home.php"><span lang="en">Home</span></a></li> 
                        <li><a href="tenuta.php">Tenuta</a></li>
                        <li><a href="vini.php">Vini</a></li>
                        <li><a href="esperienze.php">Esperienze</a></li>
                        <li><a href="contatti.php">Contatti</a></li>
                    </ul>
                </nav>

                <div class="mobile-icons">
                    [cart_icon_link]

                    [user_area_link]
                </div>

            </div>

            <div class="sub-header">
                <nav id="breadcrumb">
                    <div class="breadcrumb-container">
                        <span>Ti trovi in: </span>
                        <a href="home.php"><span lang="en">Home</span></a><span aria-hidden="true"> &gt; </span> 
                        <span class="current-page">Admin</span>
                    </div>
                </nav>

                <button id="theme-toggle" aria-label="Cambia tema"> 
                    <i class="fas fa-moon" aria-hidden="true"></i>
                </button>
            </div>
        </header>

        <main id="content-admin" class="admin-wrapper" aria-labelledby="sum">
            <p class="visually-hidden" id="sum">Pannello di amministrazione della Tenuta al Morer per la gestione di vini e utenti.</p> 
            <div class="admin-page-title">
                <h1>Amministrazione</h1>
                <p>Operatore: <strong>[nome_utente]</strong></p>
            </div>

            <div class="admin-switch admin-switch-full">
                <a href="admin.php?view=vini" class="[tab_vini_class]">Gestione Vini</a>
                <a href="admin.php?view=utenti" class="[tab_utenti_class]">Gestione Utenti</a>
            </div>

            <div class="admin-section-head">
                <h2>[titolo_admin]</h2>
                <div class="admin-section-actions">
                    [user_search_form]
                    [btn_nuovo_vino]
                    [btn_nuovo_utente]
                </div>
            </div>

            [sezione_vini]
            [sezione_utenti]
        </main>

    <div id="modalVino" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-box">
            <button class="close-modal" onclick="chiudiModal()" aria-label="Chiudi">&times;</button>
            <h2 id="modalTitle">Gestione Vino</h2>
            
            <form action="admin.php" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="azione" value="salva_vino">
                <input type="hidden" name="id_vino" id="id_vino" value="">
                <input type="hidden" name="view" value="vini">

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="nome">Nome Vino *</label>
                        <input type="text" name="nome" id="nome" class="admin-input" required aria-describedby="nome-hint">
                        <small id="nome-hint" class="input-help">Esempio: Pinot Nero Riserva</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="categoria">Categoria *</label>
                        <select name="categoria" id="categoria" class="admin-input" aria-describedby="categoria-hint">
                            <option value="rossi">Rossi</option>
                            <option value="bianchi">Bianchi</option>
                            <option value="selezione">Selezione</option>
                        </select>
                        <small id="categoria-hint" class="input-help">Esempio: Rossi</small>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="prezzo">Prezzo (€) *</label>
                        <input type="number" step="0.01" name="prezzo" id="prezzo" class="admin-input" required aria-describedby="prezzo-hint">
                        <small id="prezzo-hint" class="input-help">Esempio: 12.50</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="quantita_stock">Quantità Stock *</label>
                        <input type="number" name="quantita_stock" id="quantita_stock" class="admin-input" required aria-describedby="quantita_stock-hint">
                        <small id="quantita_stock-hint" class="input-help">Esempio: 120</small>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="stato">Visibilità *</label>
                        <select name="stato" id="stato" class="admin-input" aria-describedby="stato-hint">
                            <option value="attivo">Attivo</option>
                            <option value="nascosto">Nascosto</option>
                        </select>
                        <small id="stato-hint" class="input-help">Esempio: Attivo</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="img">Carica Immagine</label>
                        <input type="file" name="img" id="img" class="admin-input" accept="image/*" aria-describedby="img-hint">
                        <small id="img-hint" class="input-help">Esempio: JPG o PNG</small>
                    </div>
                </div>

                <div class="admin-form-group">
                    <label for="descrizione_breve">Descrizione Breve</label>
                    <input type="text" name="descrizione_breve" id="descrizione_breve" class="admin-input" aria-describedby="descrizione_breve-hint">
                    <small id="descrizione_breve-hint" class="input-help">Esempio: Rosso elegante con note di frutti rossi</small>
                </div>

                <div class="admin-form-group">
                    <label for="descrizione_estesa">Descrizione Estesa</label>
                    <textarea name="descrizione_estesa" id="descrizione_estesa" rows="3" class="admin-input" aria-describedby="descrizione_estesa-hint"></textarea>
                    <small id="descrizione_estesa-hint" class="input-help">Esempio: Affinato in barrique per 12 mesi, struttura intensa e finale speziato.</small>
                </div>

                <fieldset class="admin-fieldset">
                    <legend class="admin-fieldset-legend">Scheda Tecnica</legend>
                    <div class="form-grid">
                        <div class="admin-form-group"><label for="vitigno">Vitigno</label><input type="text" name="vitigno" id="vitigno" class="admin-input" aria-describedby="vitigno-hint"><small id="vitigno-hint" class="input-help">Esempio: Cabernet Sauvignon</small></div>
                        <div class="admin-form-group"><label for="annata">Annata</label><input type="text" name="annata" id="annata" class="admin-input" aria-describedby="annata-hint"><small id="annata-hint" class="input-help">Esempio: 2021</small></div>
                        <div class="admin-form-group"><label for="gradazione">Gradazione</label><input type="text" name="gradazione" id="gradazione" class="admin-input" aria-describedby="gradazione-hint"><small id="gradazione-hint" class="input-help">Esempio: 13.5<abbr title="percent volume">% vol</abbr></small></div>
                        <div class="admin-form-group"><label for="temperatura">Temperatura</label><input type="text" name="temperatura" id="temperatura" class="admin-input" aria-describedby="temperatura-hint"><small id="temperatura-hint" class="input-help">Esempio: 16-18°C</small></div>
                    </div>
                    <div class="admin-form-group"><label for="abbinamenti">Abbinamenti</label><input type="text" name="abbinamenti" id="abbinamenti" class="admin-input" aria-describedby="abbinamenti-hint"><small id="abbinamenti-hint" class="input-help">Esempio: Carni rosse, formaggi stagionati</small></div>
                </fieldset>

                <div class="admin-form-actions">
                    <button type="button" class="btn-secondary" onclick="chiudiModal()">Annulla</button>
                    <button type="submit" class="btn-primary">Salva Vino</button>
                </div>
            </form>
        </div>
    </div>

    <input type="checkbox" id="toggle-modal-utente" class="state-toggle" aria-label="Apri o chiudi finestra creazione utente">
    <div class="modal-wrapper-css" role="dialog" aria-modal="true" aria-labelledby="modalUserTitle">
        <label for="toggle-modal-utente" class="modal-overlay-close" aria-label="Chiudi"></label>
        <div class="modal-box-css">
            <label class="modal-close-x" for="toggle-modal-utente" aria-label="Chiudi">&times;</label>
            <h2 id="modalUserTitle">Gestione Utente</h2>

            <form action="admin.php" method="POST">
                <input type="hidden" name="azione" value="salva_utente">
                <input type="hidden" name="view" value="utenti">

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="utente_nome">Nome *</label>
                        <input type="text" name="utente_nome" id="utente_nome" class="admin-input" required aria-describedby="utente_nome-hint">
                        <small id="utente_nome-hint" class="input-help">Esempio: Mario</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="utente_cognome">Cognome *</label>
                        <input type="text" name="utente_cognome" id="utente_cognome" class="admin-input" required aria-describedby="utente_cognome-hint">
                        <small id="utente_cognome-hint" class="input-help">Esempio: Rossi</small>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="admin-form-group">
                        <label for="utente_email">Email *</label>
                        <input type="email" name="utente_email" id="utente_email" class="admin-input" required aria-describedby="utente_email-hint">
                        <small id="utente_email-hint" class="input-help">Esempio: mario.rossi@email.com</small>
                    </div>
                    <div class="admin-form-group">
                        <label for="utente_password">Password *</label>
                        <input type="password" name="utente_password" id="utente_password" class="admin-input" required minlength="8" aria-describedby="utente_password-hint">
                        <small id="utente_password-hint" class="input-help">Minimo 8 caratteri.</small>
                    </div>
                </div>

                <div class="admin-form-group">
                    <label for="utente_ruolo">Ruolo *</label>
                    <select name="utente_ruolo" id="utente_ruolo" class="admin-input" required aria-describedby="utente_ruolo-hint">
                        <option value="user">user</option>
                        <option value="staff">staff</option>
                        <option value="admin">admin</option>
                    </select>
                    <small id="utente_ruolo-hint" class="input-help">Seleziona il ruolo dell'utente.</small>
                </div>

                <div class="admin-form-actions">
                    <label class="btn-secondary" for="toggle-modal-utente" role="button">Annulla</label>
                    <button type="submit" class="btn-primary">Crea Utente</button>
                </div>
            </form>
        </div>
    </div>
    
    [footer]

    [back_to_top_button]
    
    
</body>
</html>
